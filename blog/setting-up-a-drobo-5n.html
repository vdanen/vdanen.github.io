<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" type="text/css" href="https://vdanen.github.io/theme/css/elegant.prod.9e9d5ce754.css" media="screen">
        <link rel="stylesheet" type="text/css" href="https://vdanen.github.io/theme/css/custom.css" media="screen">

        <link rel="dns-prefetch" href="//fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin>

        <meta name="author" content="Vincent Danen" />

        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content="drobo, Linux, " />

<meta property="og:title" content="Setting up a Drobo 5N "/>
<meta property="og:url" content="https://vdanen.github.io/blog/setting-up-a-drobo-5n.html" />
<meta property="og:description" content="There&#39;s something about NAS units that makes me happy. Tiny little boxes full of storage and ripe for mucking with since for the most part they run Linux make me all warm and fuzzy and just generally put me in a good mood. Probably because I&#39;m a bit of a …" />
<meta property="og:site_name" content="Annvix" />
<meta property="og:article:author" content="Vincent Danen" />
<meta property="og:article:published_time" content="2013-06-26T22:12:00-06:00" />
<meta name="twitter:title" content="Setting up a Drobo 5N ">
<meta name="twitter:description" content="There&#39;s something about NAS units that makes me happy. Tiny little boxes full of storage and ripe for mucking with since for the most part they run Linux make me all warm and fuzzy and just generally put me in a good mood. Probably because I&#39;m a bit of a …">

        <title>Setting up a Drobo 5N  · Annvix
</title>
        <link href="https://vdanen.github.io/recent.atom" type="application/atom+xml" rel="alternate" title="Annvix - Full Atom Feed" />



    </head>
    <body>
        <div id="content">
            <div class="navbar navbar-static-top">
                <div class="navbar-inner">
                    <div class="container-fluid">
                        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </a>
                        <a class="brand" href="https://vdanen.github.io/"><span class=site-name>Annvix</span></a>
                        <div class="nav-collapse collapse">
                            <ul class="nav pull-right top-menu">
                                <li >
                                    <a href=
                                       https://vdanen.github.io
                                    >Home</a>
                                </li>
                                <li ><a href="https://vdanen.github.io/about.html">About</a></li>
                                <li ><a href="https://vdanen.github.io/documentation.html">Documentation</a></li>
                                <li ><a href="https://vdanen.github.io/categories.html">Categories</a></li>
                                <li ><a href="https://vdanen.github.io/tags.html">Tags</a></li>
                                <li ><a href="https://vdanen.github.io/archives.html">Archives</a></li>
                                <li><form class="navbar-search" action="https://vdanen.github.io/search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="container-fluid">
                <div class="row-fluid">
                    <div class="span1"></div>
                    <div class="span10">
<article itemscope>
<div class="row-fluid">
    <header class="page-header span10 offset2">
        <h1>
            <a href="https://vdanen.github.io/blog/setting-up-a-drobo-5n.html">
                Setting up a Drobo 5N
            </a>
        </h1>
    </header>
</div>

<div class="row-fluid">
        <div class="span8 offset2 article-content">
            
            <p>There's something about NAS units that makes me happy.  Tiny little boxes full of storage and ripe for mucking with since for the most part they run Linux make me all warm and fuzzy and just generally put me in a good mood.  Probably because I'm a bit of a digital packrat, so I like having gobs of storage space.</p>
<p>I've played with different NAS units over the years: the D-Link DNS-323 was a favourite for a while due to it's high hackability, and I've used the Iomega Storcenter ix2-200 (it's not awful, but not great).  I did some consulting for a friend's company earlier this year and setup a QNAP for them for off-site backups, and when the backup box at my mom's died I picked up a QNAP for myself (I like these QNAPs; very familiar md-based RAID and really quite feature-rich, easier to muck about it in than the DNS-323 I found).  The same friend also had two Drobo units at his office, connected via FW800 to a Mac Mini (so two big storage volumes).  When I first popped in, one of the units had a failed drive that needed replacing, and within the following 2-3mos, another drive in each unit had died.  Zero-dataloss in both cases, which impressed me.</p>
<p>After taking the backup box from my mom's that I replaced with the QNAP, I played a bit with FreeNAS (I've never played with ZFS before so it seemed like a good excuse).  I like FreeNAS -- those guys did some excellent work on it, but after doing a bunch of reading I'm glad I went with the QNAP at my mom's rather than building a new FreeNAS-based box to put there.  And it didn't seem like the right fit for what I wanted at home (lots of storage with a small footprint, low power usage, and not necessarily having all the bells and whistles that I didn't need).  As a result, I did some reading up on the Drobo 5N which sounded like a perfect fit, and having had played with those other two Drobo units, seemed like it could be exactly what I was looking for.</p>
<p>The Drobo 5N is a NAS unit (so only takes power and ethernet as far as "peripherals" go.  It's a Linux-based system as well, which meant I could poke around and make it do interesting things.  I also like that it can take an mSATA SSD for a caching accelerator, making writing to the device much faster.  I also really like that I can hot-swap the drives easily.  No downtime, no dataloss, what's not to like?</p>
<p>So yesterday I picked one up and loaded it with five drives and a 128GB SSD.</p>
<p>I'll dispense with the typical "unboxing" that you tend to find, and get right down to making it more usable.  Out of the box, the Drobo does SMB/CIFS and AFP, so it works good for OS X and Windows.  NFS is available through the <a href="https://sites.google.com/a/droboports.com/www/">DroboPorts</a> site, but after fiddling with it for a bit (and it might just be a quirk of this version or I did something wrong), I wasn't able to write to the shares (only read), so I instead went with using CIFS to mount this thing from Linux instead.  When a new version of NFS is available for it maybe I'll try it again.  For now, CIFS works pretty nice.</p>
<p>My first steps to make this thing a bit more usable:</p>
<p>Install <a href="https://sites.google.com/a/droboports.com/www/app-repository/openssh-6-1">openssh</a>.  This will allow you to log remotely into the Drobo unit.  A few things to note: 1) you will need to copy the openssh.tgz to the DroboApps share and then reboot, at which point openssh will get installed and will start, 2) any users defined will by default have access via ssh to the Drobo, 3) root has access with the default password "root" (please please please change this ASAP!), 4) the defined administrator user's username is Admin, not admin.</p>
<p>Once you have openssh installed and can ssh into the box, you can install <a href="https://sites.google.com/a/droboports.com/www/app-repository/sudo-1-8-5p3">sudo</a>.  You'll need to install it as root (or as Admin, and then login as root and chown everything to root).  The app instructions indicate to setup a sudo group, etc. but unless you have more than one user it's probably unnecessary.  You can simply edit the sudoers file to give your Admin user sudo access, or a chosen other user (say, joe or mary).</p>
<p>These two I find pretty much critical to install, but some other essential apps to add would be rsync, vim, curl, and nfs (assuming you can make the latter work better than I could).  Other nice apps that are available include git and openvpn.  You can even install apache and mysql on this thing if you were so inclined (as well as php, python, ruby, etc.).</p>
<p>Because none of these will be in your $PATH, you'll need to follow these <a href="https://sites.google.com/a/droboports.com/www/using-command-line-apps">instructions</a> on how to get these things in your $PATH if you want to use them easily when you ssh in.</p>
<p>Once you've done all of this, the final steps would be to 1) change the root password if you have not already done so, 2) copy an ssh public key to the drobo and make sure it works for password-less authentication, 3) turn off password-based authentication to the Drobo via editing /mnt/DroboFS/Shares/DroboApps/openssh/etc/sshd_config.</p>
<p>All in all, I'm pleased with this unit.  I loaded it with 2x4TB, 2x3TB, and 1x1.5TB (the latter simply because I pulled it from a de-commissioned box and didn't want to waste the drive), and it gave me 10TB of usable space, which is pretty good.  In this configuration it will tolerate one dead drive.  The data on here isn't critical enough for me to enable the dual-drive-fail mode (which would drop the usable space to just upwards of 6TB; I care more about the space than the redundancy for what's going to be stored on it).</p>
<p>Out of all the various consumer NAS boxes I've used, the Drobo is by far the most simplistic. But what it does, it does extremely well.  The QNAP is my second choice.  But since my Linux boxen take care of all the other extras that these things provide, the Drobo 5N and its more simplistic interface/feature-set really met my needs.</p>


             
 
            
            
            







            <hr/>
        </div>
        <section id="article-sidebar" class="span2">
            <h4>Published</h4>
            <time itemprop="dateCreated" datetime="2013-06-26T22:12:00-06:00">Wed 26 June 2013</time>
            <h4>Category</h4>
            <a class="category-link" href="https://vdanen.github.io/categories.html#linux-ref">Linux</a>
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article">
                <li><a href="https://vdanen.github.io/tags.html#drobo-ref">drobo
                    <span class="superscript">1</span>
</a></li>
            </ul>
<h4>Contact</h4>
<div id="sidebar-social-link">
    <a href="https://twitter.com/vdanen" title="" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="Twitter" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#1da1f3"/><path fill="#fff" d="M437 152a72 72 0 0 1-40 12 72 72 0 0 0 32-40 72 72 0 0 1-45 17 72 72 0 0 0-122 65 200 200 0 0 1-145-74 72 72 0 0 0 22 94 72 72 0 0 1-32-7 72 72 0 0 0 56 69 72 72 0 0 1-32 1 72 72 0 0 0 67 50 200 200 0 0 1-105 29 200 200 0 0 0 309-179 200 200 0 0 0 35-37"/></svg>
    </a>
    <a href="https://github.com/vdanen" title="" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="GitHub" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#1B1817"/><path fill="#fff" d="M335 499c14 0 12 17 12 17H165s-2-17 12-17c13 0 16-6 16-12l-1-50c-71 16-86-28-86-28-12-30-28-37-28-37-24-16 1-16 1-16 26 2 40 26 40 26 22 39 59 28 74 22 2-17 9-28 16-35-57-6-116-28-116-126 0-28 10-51 26-69-3-6-11-32 3-67 0 0 21-7 70 26 42-12 86-12 128 0 49-33 70-26 70-26 14 35 6 61 3 67 16 18 26 41 26 69 0 98-60 120-117 126 10 8 18 24 18 48l-1 70c0 6 3 12 16 12z"/></svg>
    </a>
    <a href="https://www.linkedin.com/in/vdanen/" title="" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="LinkedIn" role="img" viewBox="0 0 512 512" fill="#fff"><rect width="512" height="512" rx="15%" fill="#0077b5"/><circle cx="142" cy="138" r="37"/><path stroke="#fff" stroke-width="66" d="M244 194v198M142 194v198"/><path d="M276 282c0-20 13-40 36-40 24 0 33 18 33 45v105h66V279c0-61-32-89-76-89-34 0-51 19-59 32"/></svg>
    </a>
    <a href="https://infosec.exchange/@vdanen" title="" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="Mastodon" role="img" viewBox="0 0 512 512" fill="#fff"><rect width="512" height="512" rx="15%"/><path d="m409 290c-5 24-43 50-85 56-86 11-137-6-137-6 3 13-4 54 70 52 31 0 58-7 58-7l2 27c-51 24-107 15-140 6-67-17-79-90-81-162v-59c0-74 49-96 49-96 50-24 180-22 222 0 0 0 49 22 49 96 0 0 1 55-7 93" fill="#3088d4"/><path d="m358 202v91h-35v-88c0-18-8-27-23-27-18 0-27 11-27 33v47h-34v-47c0-22-9-33-27-33-15 0-23 9-23 27v88h-35v-91c0-18 5-60 52-60 39 0 50 37 50 37s10-37 50-37c45 0 52 42 52 60"/></svg>
    </a>
</div>
            





            





        </section>
</div>
</article>
<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe.
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides.
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo https://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>                    </div>
                    <div class="span1"></div>
                </div>
            </div>
        </div>
<footer>




    <div id="fpowered">
        Powered by: <a href="http://getpelican.com/" title="Pelican Home Page" target="_blank" rel="nofollow noopener noreferrer">Pelican</a>
        Theme: <a href="https://elegant.oncrashreboot.com/" title="Theme Elegant Home Page" target="_blank" rel="nofollow noopener noreferrer">Elegant</a>
    </div>
</footer>            <script src="//code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script src="https://vdanen.github.io/theme/js/elegant.prod.9e9d5ce754.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

    <script>
    (function () {
        if (window.location.hash.match(/^#comment-\d+$/)) {
            $('#comment_thread').collapse('show');
        }
    })();
    window.onhashchange=function(){
        if (window.location.hash.match(/^#comment-\d+$/))
            window.location.reload(true);
    }
    $('#comment_thread').on('shown', function () {
        var link = document.getElementById('comment-accordion-toggle');
        var old_innerHTML = link.innerHTML;
        $(link).fadeOut(200, function() {
            $(this).text('Click here to hide comments').fadeIn(200);
        });
        $('#comment_thread').on('hidden', function () {
            $(link).fadeOut(200, function() {
                $(this).text(old_innerHTML).fadeIn(200);
            });
        })
    })
</script>

    </body>
    <!-- Theme: Elegant built for Pelican
        License : MIT -->
</html>