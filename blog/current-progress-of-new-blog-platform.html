<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" type="text/css" href="https://vdanen.github.io/theme/css/elegant.prod.9e9d5ce754.css" media="screen">
        <link rel="stylesheet" type="text/css" href="https://vdanen.github.io/theme/css/custom.css" media="screen">

        <link rel="dns-prefetch" href="//fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin>

        <meta name="author" content="Vincent Danen" />

        <meta name="description" content="I’ve not had much time in the past week to work on the blog platform due to getting back to work after two weeks off. So that means future enhancements to the blog will take a bit longer. I managed to implement a fairly basic commenting system that works …
" />
        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content="flask, python, Linux, " />

<meta property="og:title" content="Current progress of new blog platform "/>
<meta property="og:url" content="https://vdanen.github.io/blog/current-progress-of-new-blog-platform" />
<meta property="og:description" content="I’ve not had much time in the past week to work on the blog platform due to getting back to work after two weeks off. So that means future enhancements to the blog will take a bit longer. I managed to implement a fairly basic commenting system that works …" />
<meta property="og:site_name" content="Annvix" />
<meta property="og:article:author" content="Vincent Danen" />
<meta property="og:article:published_time" content="2016-08-05T16:00:00-06:00" />
<meta name="twitter:title" content="Current progress of new blog platform ">
<meta name="twitter:description" content="I’ve not had much time in the past week to work on the blog platform due to getting back to work after two weeks off. So that means future enhancements to the blog will take a bit longer. I managed to implement a fairly basic commenting system that works …">

        <title>Current progress of new blog platform  · Annvix
</title>
        <link rel="shortcut icon" href="https://vdanen.github.io/theme/images/favicon.ico" type="image/x-icon" />
        <link rel="icon" href="https://vdanen.github.io/theme/images/apple-touch-icon-152x152.png" type="image/png" />
        <link rel="apple-touch-icon" href="https://vdanen.github.io/theme/images/apple-touch-icon.png"  type="image/png" />
        <link rel="apple-touch-icon" sizes="57x57" href="https://vdanen.github.io/theme/images/apple-touch-icon-57x57.png" type="image/png" />
        <link rel="apple-touch-icon" sizes="72x72" href="https://vdanen.github.io/theme/images/apple-touch-icon-72x72.png" type="image/png" />
        <link rel="apple-touch-icon" sizes="76x76" href="https://vdanen.github.io/theme/images/apple-touch-icon-76x76.png" type="image/png" />
        <link rel="apple-touch-icon" sizes="114x114" href="https://vdanen.github.io/theme/images/apple-touch-icon-114x114.png" type="image/png" />
        <link rel="apple-touch-icon" sizes="120x120" href="https://vdanen.github.io/theme/images/apple-touch-icon-120x120.png" type="image/png" />
        <link rel="apple-touch-icon" sizes="144x144" href="https://vdanen.github.io/theme/images/apple-touch-icon-144x144.png" type="image/png" />
        <link rel="apple-touch-icon" sizes="152x152" href="https://vdanen.github.io/theme/images/apple-touch-icon-152x152.png" type="image/png" />
        <link rel="apple-touch-icon" sizes="152x152" href="https://vdanen.github.io/theme/images/apple-touch-icon-180x180.png" type="image/png" />
        <link href="https://vdanen.github.io/recent.atom" type="application/atom+xml" rel="alternate" title="Annvix - Full Atom Feed" />
<script async src="https://www.googletagmanager.com/gtag/js?id=G-5JGVD90SKJ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-5JGVD90SKJ');
</script>



    </head>
    <body>
        <div id="content">
            <div class="navbar navbar-static-top">
                <div class="navbar-inner">
                    <div class="container-fluid">
                        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </a>
                        <a class="brand" href="https://vdanen.github.io/"><span class=site-name>Annvix</span></a>
                        <div class="nav-collapse collapse">
                            <ul class="nav pull-right top-menu">
                                <li >
                                    <a href=
                                       https://vdanen.github.io
                                    >Home</a>
                                </li>
                                <li ><a href="https://vdanen.github.io/about">About</a></li>
                                <li ><a href="https://vdanen.github.io/documentation">Documentation</a></li>
                                <li ><a href="https://vdanen.github.io/categories">Categories</a></li>
                                <li ><a href="https://vdanen.github.io/tags">Tags</a></li>
                                <li ><a href="https://vdanen.github.io/archives">Archives</a></li>
                                <li><form class="navbar-search" action="https://vdanen.github.io/search" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="container-fluid">
                <div class="row-fluid">
                    <div class="span1"></div>
                    <div class="span10">
<article itemscope>
<div class="row-fluid">
    <header class="page-header span10 offset2">
        <h1>
            <a href="https://vdanen.github.io/blog/current-progress-of-new-blog-platform">
                Current progress of new blog&nbsp;platform
            </a>
        </h1>
    </header>
</div>

<div class="row-fluid">
        <div class="span8 offset2 article-content">
            
            <p>I&#8217;ve not had much time in the past week to work on the blog platform due to getting back to work after two weeks off.  So that means future enhancements to the blog will take a bit&nbsp;longer.</p>
<p>I managed to implement a fairly basic commenting system that works well, so at least now you can offer your thoughts and comments on blog posts.  The one thing that&#8217;s really missing before I redirect the old linsec.ca site to here is searching.  I think search capabilities are quite important.  Flask can do this with Whooshalchemy, which would be awesome except I opted to use Peewee (which we use at work in a few places, so it helps me learn it better) rather than SQLAlchemy.  It also looks like you can do full text search quite easily if you were using SQLite but alas, I&#8217;m using MySQL on the&nbsp;backend.</p>
<p>So it looks like the next step is to write something that uses Whoosh for searching, but also integrates with Peewee (in a way that Flask-WhooshAlchemy would).  I might look into writing something quick-n-dirty from scratch, or I might poke at Flask-WhooshAlchemy and see if there might be a future Flask-WhooshPeewee&#8230; you never&nbsp;know!</p>
<p>If someone on the interwebs has figured this out already though, I would be really keen on hearing what you have to&nbsp;say!</p>
<p>Another issue that currently bothers me a little bit is the <span class="caps">UWSGI</span> integration.  Because I&#8217;m using mod_proxy_uwsgi and running this site as a <span class="caps">UWSGI</span> application, I have a systemd unit file to run it, which looks like&nbsp;this:</p>
<pre>
[Unit]
Description=annvix.com flask uwsgi server

[Service]
Type=forking
WorkingDirectory=/mysite/flask
ExecStart=/usr/bin/bash -c 'cd /mysite/flask; source flask/bin/activate; /mysite/flask/flask/bin/uwsgi --ini /mysite/flask/annvix.ini'
RuntimeDirectory=/mysite/flask
Restart=always

[Install]
WantedBy=multi-user.target
</pre>

<p>But whenever I run <code>systemctl start annvix-flask</code>, it sits for a <i>long</i> time before releasing to the console and the systemctl status show it as&nbsp;&#8220;activating&#8221;:</p>
<pre>
# systemctl status annvix-flask
? annvix-flask.service - annvix.com flask uwsgi server
   Loaded: loaded (/etc/systemd/system/annvix-flask.service; disabled; vendor preset: disabled)
   Active: activating (start) since Fri 2016-08-05 17:01:55 MDT; 13s ago
  Control: 31128 (bash)
   CGroup: /system.slice/annvix-flask.service
           ??31128 /usr/bin/bash -c cd /mysite/flask; source flask/bin/activate; /mysite/flask/flask/bin/uwsgi --ini /mysite/flask/annvix.ini
           ??31133 /mysite/flask/flask/bin/uwsgi --ini /mysite/flask/annvix.ini
           ??31141 /mysite/flask/flask/bin/uwsgi --ini /mysite/flask/annvix.ini

Aug 05 17:01:55 vps.annvix.com bash[31128]: [uWSGI] getting INI configuration from /mysite/flask/annvix.ini
</pre>

<p>Nothing that I&#8217;ve read explains why this might be the case.  It works, the site is obviously running, but systemd thinks it&#8217;s still activating  and when it finally releases it&#8217;s saying it has timed out.  This is a cheap plea to smart folks that may have the answer (although if I do figure out why it&#8217;s doing this, I&#8217;ll be sure to use the new commenting feature to share the&nbsp;answer).</p>
<p>Any&nbsp;takers?</p>


             
 
                <p id="post-share-links">
    Share on:
      <a href="https://twitter.com/intent/tweet?text=Current%20progress%20of%20new%20blog%C2%A0platform&url=https%3A//vdanen.github.io/blog/current-progress-of-new-blog-platform&hashtags=flask,python" target="_blank" rel="nofollow noopener noreferrer" title="Share on Twitter">Twitter</a>
 ❄       <a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3A//vdanen.github.io/blog/current-progress-of-new-blog-platform&title=Current%20progress%20of%20new%20blog%C2%A0platform&summary=I%E2%80%99ve%20not%20had%20much%20time%20in%20the%20past%20week%20to%20work%20on%20the%20blog%20platform%20due%20to%20getting%20back%20to%20work%20after%20two%20weeks%20off.%20%20So%20that%20means%20future%20enhancements%20to%20the%20blog%20will%20take%20a%20bit%C2%A0longer.%0AI%20managed%20to%20implement%20a%20fairly%20basic%20commenting%20system%20that%20works%20%E2%80%A6&source=https%3A//vdanen.github.io/blog/current-progress-of-new-blog-platform" target="_blank" rel="nofollow noopener noreferrer" title="Share on LinkedIn">LinkedIn</a>

            
            







            <hr/>
<section>
    <h2>Related Posts</h2>
<ul class="related-posts-list">
<li><a href="https://vdanen.github.io/blog/ssl-certificate-verification-failure-with-fink-s-python-2-7-9" title="SSL Certificate Verification failure with fink’s Python 2.7.9">SSL Certificate Verification failure with fink’s Python 2.7.9</a></li>
<li><a href="https://vdanen.github.io/blog/adding-dash-support-to-komodo-ide" title="Adding Dash support to Komodo IDE">Adding Dash support to Komodo IDE</a></li>
<li><a href="https://vdanen.github.io/blog/welcome-to-the-new-journey" title="Welcome to the new journey">Welcome to the new journey</a></li>
<li><a href="https://vdanen.github.io/blog/moved-to-python-anywhere" title="Moved to PythonAnywhere">Moved to PythonAnywhere</a></li>
<li><a href="https://vdanen.github.io/blog/moving-from-python-2-to-python-3" title="Moving from python 2 to python 3">Moving from python 2 to python 3</a></li>
</ul>
<hr />
</section>
            <aside>
            <nav>
            <ul class="articles-timeline">
                <li class="previous-article">« <a href="https://vdanen.github.io/blog/welcome-to-the-new-journey" title="Previous: Welcome to the new journey">Welcome to the new journey</a></li>
                <li class="next-article"><a href="https://vdanen.github.io/blog/replacing-a-freenas-drive" title="Next: Replacing a FreeNAS drive">Replacing a FreeNAS drive</a> »</li>
            </ul>
            </nav>
            </aside>
        </div>
        <section id="article-sidebar" class="span2">
            <h4>Published</h4>
            <time itemprop="dateCreated" datetime="2016-08-05T16:00:00-06:00">Aug 05, 2016</time>
            <h4>Category</h4>
            <a class="category-link" href="https://vdanen.github.io/categories#linux-ref">Linux</a>
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article">
                <li><a href="https://vdanen.github.io/tags#flask-ref">flask
                    <span class="superscript">1</span>
</a></li>
                <li><a href="https://vdanen.github.io/tags#python-ref">python
                    <span class="superscript">10</span>
</a></li>
            </ul>
<h4>Stay in touch</h4>
<div id="sidebar-social-link">
    <a href="https://twitter.com/vdanen" title="" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="Twitter" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#1da1f3"/><path fill="#fff" d="M437 152a72 72 0 0 1-40 12 72 72 0 0 0 32-40 72 72 0 0 1-45 17 72 72 0 0 0-122 65 200 200 0 0 1-145-74 72 72 0 0 0 22 94 72 72 0 0 1-32-7 72 72 0 0 0 56 69 72 72 0 0 1-32 1 72 72 0 0 0 67 50 200 200 0 0 1-105 29 200 200 0 0 0 309-179 200 200 0 0 0 35-37"/></svg>
    </a>
    <a href="https://github.com/vdanen" title="" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="GitHub" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#1B1817"/><path fill="#fff" d="M335 499c14 0 12 17 12 17H165s-2-17 12-17c13 0 16-6 16-12l-1-50c-71 16-86-28-86-28-12-30-28-37-28-37-24-16 1-16 1-16 26 2 40 26 40 26 22 39 59 28 74 22 2-17 9-28 16-35-57-6-116-28-116-126 0-28 10-51 26-69-3-6-11-32 3-67 0 0 21-7 70 26 42-12 86-12 128 0 49-33 70-26 70-26 14 35 6 61 3 67 16 18 26 41 26 69 0 98-60 120-117 126 10 8 18 24 18 48l-1 70c0 6 3 12 16 12z"/></svg>
    </a>
    <a href="https://www.linkedin.com/in/vdanen/" title="" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="LinkedIn" role="img" viewBox="0 0 512 512" fill="#fff"><rect width="512" height="512" rx="15%" fill="#0077b5"/><circle cx="142" cy="138" r="37"/><path stroke="#fff" stroke-width="66" d="M244 194v198M142 194v198"/><path d="M276 282c0-20 13-40 36-40 24 0 33 18 33 45v105h66V279c0-61-32-89-76-89-34 0-51 19-59 32"/></svg>
    </a>
    <a href="https://infosec.exchange/@vdanen" title="" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="Mastodon" role="img" viewBox="0 0 512 512" fill="#fff"><rect width="512" height="512" rx="15%"/><path d="m409 290c-5 24-43 50-85 56-86 11-137-6-137-6 3 13-4 54 70 52 31 0 58-7 58-7l2 27c-51 24-107 15-140 6-67-17-79-90-81-162v-59c0-74 49-96 49-96 50-24 180-22 222 0 0 0 49 22 49 96 0 0 1 55-7 93" fill="#3088d4"/><path d="m358 202v91h-35v-88c0-18-8-27-23-27-18 0-27 11-27 33v47h-34v-47c0-22-9-33-27-33-15 0-23 9-23 27v88h-35v-91c0-18 5-60 52-60 39 0 50 37 50 37s10-37 50-37c45 0 52 42 52 60"/></svg>
    </a>
</div>
            





            





        </section>
</div>
</article>
<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe.
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides.
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo https://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>                    </div>
                    <div class="span1"></div>
                </div>
            </div>
        </div>
<footer>
    <div>
        Copyright &copy; 2023 Vincent Danen
    </div>




    <div id="fpowered">
        Powered by: <a href="http://getpelican.com/" title="Pelican Home Page" target="_blank" rel="nofollow noopener noreferrer">Pelican</a>
        Theme: <a href="https://elegant.oncrashreboot.com/" title="Theme Elegant Home Page" target="_blank" rel="nofollow noopener noreferrer">Elegant</a>
    </div>
</footer>            <script src="//code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script src="https://vdanen.github.io/theme/js/elegant.prod.9e9d5ce754.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

    <script>
    (function () {
        if (window.location.hash.match(/^#comment-\d+$/)) {
            $('#comment_thread').collapse('show');
        }
    })();
    window.onhashchange=function(){
        if (window.location.hash.match(/^#comment-\d+$/))
            window.location.reload(true);
    }
    $('#comment_thread').on('shown', function () {
        var link = document.getElementById('comment-accordion-toggle');
        var old_innerHTML = link.innerHTML;
        $(link).fadeOut(200, function() {
            $(this).text('Click here to hide comments').fadeIn(200);
        });
        $('#comment_thread').on('hidden', function () {
            $(link).fadeOut(200, function() {
                $(this).text(old_innerHTML).fadeIn(200);
            });
        })
    })
</script>

    </body>
    <!-- Theme: Elegant built for Pelican
        License : MIT -->
</html>