<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>Virtualized Linux guest in FreeNAS 9.10 using iohyve - Annvix</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">


    <link href="https://vdanen.github.io/images/favicon.ico" rel="icon">

<link rel="canonical" href="https://vdanen.github.io/blog/virtualized-linux-guest-in-freenas-9-10-using-iohyve.html">

        <meta name="author" content="Vincent Danen" />
        <meta name="keywords" content="iohyve,freenas,centos,ipa" />
        <meta name="description" content="During the day I&#39;m a manager of one of the greatest security teams on the planet (in my biased estimation), but at night (and random times throughout the day), I&#39;m a sysadmin tinkerer. There&#39;s just something about goofing off with operating systems that appeals to me; this is likely what …" />

        <meta property="og:site_name" content="Annvix" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="Virtualized Linux guest in FreeNAS 9.10 using iohyve"/>
        <meta property="og:url" content="https://vdanen.github.io/blog/virtualized-linux-guest-in-freenas-9-10-using-iohyve.html"/>
        <meta property="og:description" content="During the day I&#39;m a manager of one of the greatest security teams on the planet (in my biased estimation), but at night (and random times throughout the day), I&#39;m a sysadmin tinkerer. There&#39;s just something about goofing off with operating systems that appeals to me; this is likely what …"/>
        <meta property="article:published_time" content="2017-03-24" />
            <meta property="article:section" content="Bsd" />
            <meta property="article:tag" content="iohyve" />
            <meta property="article:tag" content="freenas" />
            <meta property="article:tag" content="centos" />
            <meta property="article:tag" content="ipa" />
            <meta property="article:author" content="Vincent Danen" />



    <!-- Bootstrap -->
        <link rel="stylesheet" href="https://vdanen.github.io/theme/css/bootstrap.slate.min.css" type="text/css"/>
    <link href="https://vdanen.github.io/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="https://vdanen.github.io/theme/css/pygments/native.css" rel="stylesheet">
    <link rel="stylesheet" href="https://vdanen.github.io/theme/css/style.css" type="text/css"/>

        <link href="https://vdanen.github.io/recent.atom" type="application/atom+xml" rel="alternate"
              title="Annvix ATOM Feed"/>


</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container-fluid">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="https://vdanen.github.io/" class="navbar-brand">
<img class="img-responsive pull-left gap-right" src="https://vdanen.github.io/images/annvix.png" width="100"/>             </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                         <li><a href="https://vdanen.github.io/about.html">
                             About
                          </a></li>
                         <li><a href="https://vdanen.github.io/documentation.html">
                             Documentation
                          </a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->

<!-- Banner -->
<!-- End Banner -->

<!-- Content Container -->
<div class="container-fluid">
    <div class="row">
        <div class="col-sm-9">
    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="https://vdanen.github.io/blog/virtualized-linux-guest-in-freenas-9-10-using-iohyve.html"
                       rel="bookmark"
                       title="Permalink to Virtualized Linux guest in FreeNAS 9.10 using iohyve">
                        Virtualized Linux guest in FreeNAS 9.10 using iohyve
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
            <a href="https://vdanen.github.io/author/vincent-danen.html"><i class="fa fa-user"></i> Vincent Danen</a> &nbsp;&nbsp; // &nbsp;&nbsp;
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2017-03-24T16:00:00-06:00"> Fri 24 March 2017</time> &nbsp;&nbsp; // &nbsp;&nbsp;
    </span>


        <a href="https://vdanen.github.io/category/bsd.html"><i class="fa fa-folder-open-o"></i> Bsd</a> &nbsp;&nbsp; // &nbsp;&nbsp;


<i class="fa fa-tags"></i>
    <span class="label label-info"> <a href="https://vdanen.github.io/tag/iohyve.html"> iohyve</a></span>
    <span class="label label-info"> <a href="https://vdanen.github.io/tag/freenas.html"> freenas</a></span>
    <span class="label label-info"> <a href="https://vdanen.github.io/tag/centos.html"> centos</a></span>
    <span class="label label-info"> <a href="https://vdanen.github.io/tag/ipa.html"> ipa</a></span>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                <p><img alt="Image" src="https://vdanen.github.io/images/freenas.jpg">During the day I'm a manager of one of the greatest security teams on the planet (in my biased estimation), but at night (and random times throughout the day), I'm a sysadmin tinkerer.  There's just something about goofing off with operating systems that appeals to me; this is likely what caused me to devote five years of my life to working on Annvix back in the day.</p>
<p>I've been running a local <a href="https://www.freeipa.org/page/Main_Page">IPA</a> install for quite a few years, but because you really need IPA to run on its own dedicated system (and given I have enough machines running in this house) I've been using KVM to handle the virtualization of an IPA server.  IPA is really cool and allowed me to discard my homegrown LDAP+Kerberos setup for something with some enterprise gusto to manage authentication, identification, and authorization policies for my home network (insert obligatory comment about overkill here).  I started using IPA on CentOS 6 and a year ago moved both guest and host to CentOS 7 which is working pretty good other than, for some odd reason, python is randomly segfaulting at times.  I don't know what the cause is, I've filed abrt reports, and it's a concern when the language that your system updater is based on decides to start crashing before installing updates or, even worse, during the installation of updates and making a mess of things (this does <em>not</em> make RPM happy!).  The oddest thing is that none of the other CentOS 7 systems (on bare metal) exhibit this behaviour.</p>
<p>The other problem is if my IPA server decides to tip over, I don't have a failover setup (again this being at home).  So while I was thinking about the best way to stand up another IPA server as a replicating slave to then promote it to the master and migrate away from whatever is causing all these nasty segaults, I was reminded by FreeNAS that an update was available for it, and I started thinking about jails and whether they would run Linux.  After starting down the rabbit trail, I found out about <a href="ttps://github.com/pr1ntf/iohyve">iohyve</a> which is a FreeBSD (what FreeNAS is based on) <a href="https://en.wikipedia.org/wiki/Bhyve">bhyve</a> manager.  Byhve is a hypervisor that runs on FreeBSD, basically like KVM (which I've been using) or OpenVZ (which I've used with VPS hosting), or Xen.</p>
<p>So bhyve is for FreeBSD what KVM is for Linux.  And this is where the sysadmin/tinkerer/geek in me thinks "cool" and away disappears a weekend.</p>
<p>For the purposes of this post/tutorial, you need to be running FreeNAS 9.10 (you can probably do this easily enough with FreeBSD, but I've not tried).  There is also documentation on <a href="https://doc.freenas.org/9.10/jails.html#using-iohyve">Using iohyve</a>.</p>
<p>From your FreeNAS system you need to know your ethernet interface name (in the web UI go to <strong>Network -&gt; Network Interfaces</strong>, in my case <em>em0</em>) and the storage pool name (<strong>Storage -&gt; Volumes</strong>, in my case the pool is named <em>storage</em>).  The actual setup of iohyve needs to be done as root over SSH, so you'll need that running as well.</p>
<p>As root, we need to create the environment iohyve requires.   I used the following commands to create the pool for its use:</p>
<div class="highlight"><pre><span></span><code><span class="cp"># iohyve setup pool=storage kmod=1 net=em0</span><span class="w"></span>
<span class="n">Setting</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">iohyve</span><span class="w"> </span><span class="n">pool</span><span class="p">...</span><span class="w"></span>
<span class="n">On</span><span class="w"> </span><span class="n">FreeNAS</span><span class="w"> </span><span class="n">installation</span><span class="p">.</span><span class="w"></span>
<span class="n">Checking</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">symbolic</span><span class="w"> </span><span class="n">link</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="o">/</span><span class="n">iohyve</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="o">/</span><span class="n">mnt</span><span class="o">/</span><span class="n">iohyve</span><span class="p">...</span><span class="w"></span>
<span class="n">Symbolic</span><span class="w"> </span><span class="n">link</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="o">/</span><span class="n">iohyve</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="o">/</span><span class="n">mnt</span><span class="o">/</span><span class="n">iohyve</span><span class="w"> </span><span class="n">successfully</span><span class="w"> </span><span class="n">created</span><span class="p">.</span><span class="w"></span>
<span class="n">Loading</span><span class="w"> </span><span class="n">kernel</span><span class="w"> </span><span class="n">modules</span><span class="p">...</span><span class="w"></span>
<span class="n">bridge0</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">already</span><span class="w"> </span><span class="n">enabled</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">machine</span><span class="p">...</span><span class="w"></span>
<span class="n">Setting</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">correct</span><span class="w"> </span><span class="n">sysctl</span><span class="w"> </span><span class="n">value</span><span class="p">...</span><span class="w"></span>
<span class="n">net</span><span class="p">.</span><span class="n">link</span><span class="p">.</span><span class="n">tap</span><span class="p">.</span><span class="n">up_on_open</span><span class="o">:</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="mi">1</span><span class="w"></span>
</code></pre></div>

<p>This tells iohyve to install the required ZFS datasets and kernel modules.  We use <code>kmod=1</code> to tell iohyve to load the required kernel module, <code>pool=storage</code> tells it which pool to use for files (in this case, <em>storage</em>) and <code>net=em0</code> sets up the network bridge to this interface (iohyve can only be bound to a single interface).  You can use multiple pools for iohyve, however I only have one pool on the system.</p>
<p>Next, you need to create a few tunables in FreeNAS.  Heading back to the web UI, go to <strong>System -&gt; Tunables</strong> and create the following two tunables:</p>
<ul>
<li>variable: <strong>iohyve_enable</strong>, values: <strong>YES</strong>, type: <strong>rc_conf</strong></li>
<li>variable: <strong>iohve_flags</strong>, values: <strong>kmod=1 net=em0</strong>, type: <strong>rc_conf</strong></li>
</ul>
<p>The <strong>iohyve_enable</strong> variable tells FreeNAS to load iohyve support at boot, and the <strong>iohyve_flags</strong> are the same kmod and net options we used when setting up iohyve initially.</p>
<p>The next step is to download an ISO image for iohyve to use for installing a virtual machine.  In my case, I want to run CentOS 7.  There are plenty of <a href="http://isoredirect.centos.org/centos/7/isos/x86_64/CentOS-7-x86_64-Minimal-1611.iso">mirrors</a> to choose from for the minimal ISO which is probably what you want since you can install any specific software required using yum after it's installed.</p>
<div class="highlight"><pre><span></span><code># iohyve fetch http://centos.mirror.iweb.ca/7/isos/x86_64/CentOS-7-x86_64-Minimal-1611.iso
Fetching http://centos.mirror.iweb.ca/7/isos/x86_64/CentOS-7-x86_64-Minimal-1611.iso...
/iohyve/ISO/CentOS-7-x86_64-Minimal-1611.iso/C100% of  680 MB    9 MBps 01m08s
</code></pre></div>

<p>You need to use iohyve to fetch the ISO image (somewhat annoyingly) so you can't just copy an existing ISO over (although I believe you can do a fetch over NFS or provide it locally via HTTP from another system on your network).</p>
<p>Once you have the ISO downloaded, you can configure a new virtual machine.  Check to make sure you have the ISO available:</p>
<div class="highlight"><pre><span></span><code># iohyve isolist
Listing ISO&#39;s...
CentOS-7-x86_64-Minimal-1611.iso
</code></pre></div>

<p>Then, to create the machine with 20GB of space (the same size as my existing KVM machine for IPA, which is more than enough):</p>
<div class="highlight"><pre><span></span><code># iohyve create ipa-slave 20G
Creating ipa-slave...
# iohyve list
Guest      VMM?  Running  rcboot?  Description
ipa-slave  NO    NO       NO       Sun Mar 12 16:39:10 MDT 2017
</code></pre></div>

<p>Now you can configure the specifics of the machine:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># iohyve set ipa-slave ram=1G cpu=1 os=custom loader=grub-bhyve</span><span class="w"></span>
<span class="n">Setting</span><span class="w"> </span><span class="n">ipa</span><span class="o">-</span><span class="n">slave</span><span class="w"> </span><span class="n">ram</span><span class="o">=</span><span class="mi">1</span><span class="n">G</span><span class="o">...</span><span class="w"></span>
<span class="n">Setting</span><span class="w"> </span><span class="n">ipa</span><span class="o">-</span><span class="n">slave</span><span class="w"> </span><span class="n">cpu</span><span class="o">=</span><span class="mf">1.</span><span class="o">..</span><span class="w"></span>
<span class="n">Setting</span><span class="w"> </span><span class="n">ipa</span><span class="o">-</span><span class="n">slave</span><span class="w"> </span><span class="n">os</span><span class="o">=</span><span class="n">cuscom</span><span class="o">...</span><span class="w"></span>
<span class="n">Setting</span><span class="w"> </span><span class="n">ipa</span><span class="o">-</span><span class="n">slave</span><span class="w"> </span><span class="n">loader</span><span class="o">=</span><span class="n">grub</span><span class="o">-</span><span class="n">bhyve</span><span class="o">...</span><span class="w"></span>
</code></pre></div>

<p>This sets my virtual machine to have 1GB of RAM, use one virtual CPU, use the "custom" operating system type (we need this later, even though we will be using CentOS 7), and uses the grub-bhyve loader which is required by Linux guests.  The <a href="https://github.com/pr1ntf/iohyve/wiki">iohyve wiki</a> has more details on operating system types and which values to use depending on which Linux operating system you intend to install.</p>
<p>When using a CentOS 7 guest, iohyve currently cannot boot from an XFS partition (which is the default), and due to the limitations of the commandline installer, we can't tell Anaconda to use something other than XFS.  Another thing I found, with some trial and error, is you want to use traditional partitions and not the LVM-based partition scheme (so plan out your filesystem in advance to ensure you have enough size!).  This is the main reason for using the "custom" operating system type.  We'll fix that later.</p>
<p>To work around this, we'll use a simple kickstart file to get us to a minimal working system from which we can install the rest of what we want.</p>
<p>In order to make grub boot and use the kickstart file, you need to edit <code>/iohyve/ipa-slave/grub.cfg</code> so it looks like:</p>
<div class="highlight"><pre><span></span><code>linux (cd0)/isolinux/vmlinuz inst.ks=http://somewhere.internal/ks.cfg
initrd (cd0)/isolinux/initrd.img
boot
</code></pre></div>

<p>and the <code>ks.cfg</code> file would look something like (see the <a href="https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Installation_Guide/sect-kickstart-syntax.html">documentation</a> for more info):</p>
<div class="highlight"><pre><span></span><code><span class="cp">#version=RHEL7</span>
<span class="cp"># System authorization information</span>
<span class="n">auth</span><span class="w"> </span><span class="o">--</span><span class="n">enableshadow</span><span class="w"> </span><span class="o">--</span><span class="n">passalgo</span><span class="o">=</span><span class="n">sha512</span><span class="w"></span>

<span class="cp"># Use CDROM installation media</span>
<span class="n">cdrom</span><span class="w"></span>
<span class="cp"># Use text install</span>
<span class="n">text</span><span class="w"></span>
<span class="cp"># Run the Setup Agent on first boot</span>
<span class="n">firstboot</span><span class="w"> </span><span class="o">--</span><span class="n">enable</span><span class="w"></span>
<span class="n">ignoredisk</span><span class="w"> </span><span class="o">--</span><span class="n">only</span><span class="o">-</span><span class="n">use</span><span class="o">=</span><span class="n">sda</span><span class="w"></span>
<span class="cp"># Keyboard layouts</span>
<span class="n">keyboard</span><span class="w"> </span><span class="o">--</span><span class="n">vckeymap</span><span class="o">=</span><span class="n">us</span><span class="w"> </span><span class="o">--</span><span class="n">xlayouts</span><span class="o">=</span><span class="err">&#39;</span><span class="n">us</span><span class="err">&#39;</span><span class="w"></span>
<span class="cp"># System language</span>
<span class="n">lang</span><span class="w"> </span><span class="n">en_US</span><span class="p">.</span><span class="n">UTF</span><span class="mi">-8</span><span class="w"></span>

<span class="cp"># Network information</span>
<span class="n">network</span><span class="w">  </span><span class="o">--</span><span class="n">bootproto</span><span class="o">=</span><span class="k">static</span><span class="w"> </span><span class="o">--</span><span class="n">device</span><span class="o">=</span><span class="n">eth0</span><span class="w"> </span><span class="o">--</span><span class="n">gateway</span><span class="o">=</span><span class="mf">192.168.1.1</span><span class="w"> </span><span class="o">--</span><span class="n">ip</span><span class="o">=</span><span class="mf">192.168.1.16</span><span class="w"> </span><span class="o">--</span><span class="n">nameserver</span><span class="o">=</span><span class="mf">192.168.1.1</span><span class="w"> </span><span class="o">--</span><span class="n">netmask</span><span class="o">=</span><span class="mf">255.255.255.0</span><span class="w"> </span><span class="o">--</span><span class="n">noipv6</span><span class="w"> </span><span class="o">--</span><span class="n">activate</span><span class="w"></span>
<span class="n">network</span><span class="w">  </span><span class="o">--</span><span class="n">hostname</span><span class="o">=</span><span class="n">ipa</span><span class="o">-</span><span class="n">slave</span><span class="p">.</span><span class="n">mydomain</span><span class="p">.</span><span class="n">com</span><span class="w"></span>
<span class="cp"># Root password</span>
<span class="n">rootpw</span><span class="w"> </span><span class="o">--</span><span class="n">iscrypted</span><span class="w"> </span><span class="n">$6$</span><span class="o">/</span><span class="n">GdEAa2DwhlmU</span><span class="p">.</span><span class="n">Vr$R</span><span class="o">/</span><span class="n">L</span><span class="p">.</span><span class="n">fEc6QwtFiTMLd04HR1SuS7NrsdA</span><span class="p">.</span><span class="n">NuQyQ17RbBk8p37oGD</span><span class="o">/</span><span class="n">hVvRIOw0v5x6pSC6uU4NigueNmEXvQ8pzo0</span><span class="w"></span>
<span class="cp"># System services</span>
<span class="n">services</span><span class="w"> </span><span class="o">--</span><span class="n">enabled</span><span class="o">=</span><span class="s">&quot;chronyd&quot;</span><span class="w"></span>
<span class="cp"># System timezone</span>
<span class="n">timezone</span><span class="w"> </span><span class="n">America</span><span class="o">/</span><span class="n">Edmonton</span><span class="w"> </span><span class="o">--</span><span class="n">isUtc</span><span class="w"> </span><span class="o">--</span><span class="n">ntpservers</span><span class="o">=</span><span class="n">ntp</span><span class="p">.</span><span class="n">mydomain</span><span class="p">.</span><span class="n">com</span><span class="w"></span>
<span class="cp"># System bootloader configuration</span>
<span class="n">bootloader</span><span class="w"> </span><span class="o">--</span><span class="n">location</span><span class="o">=</span><span class="n">mbr</span><span class="w"> </span><span class="o">--</span><span class="n">boot</span><span class="o">-</span><span class="n">drive</span><span class="o">=</span><span class="n">sda</span><span class="w"></span>
<span class="cp"># Partition clearing information</span>
<span class="n">clearpart</span><span class="w"> </span><span class="o">--</span><span class="n">drives</span><span class="o">=</span><span class="n">sda</span><span class="w"> </span><span class="o">--</span><span class="n">all</span><span class="w"></span>
<span class="cp"># Disk partitioning information</span>
<span class="n">autopart</span><span class="w"> </span><span class="o">--</span><span class="n">type</span><span class="o">=</span><span class="n">plain</span><span class="w"> </span><span class="o">--</span><span class="n">fstype</span><span class="o">=</span><span class="s">&quot;ext4&quot;</span><span class="w"></span>

<span class="nf">%packages</span><span class="w"></span>
<span class="n">chrony</span><span class="w"></span>
<span class="nf">%end</span><span class="w"></span>

<span class="nf">%addon</span><span class="w"> </span><span class="n">com_redhat_kdump</span><span class="w"> </span><span class="o">--</span><span class="n">disable</span><span class="w"> </span><span class="o">--</span><span class="n">reserve</span><span class="o">-</span><span class="n">mb</span><span class="o">=</span><span class="err">&#39;</span><span class="k">auto</span><span class="err">&#39;</span><span class="w"></span>

<span class="nf">%end</span><span class="w"></span>
</code></pre></div>

<p>Before starting the installation, make sure you can retrieve that file with something like curl.  Next, start the installation:</p>
<div class="highlight"><pre><span></span><code>#<span class="w"> </span><span class="nv">iohyve</span><span class="w"> </span><span class="nv">isolist</span><span class="w"></span>
<span class="nv">Listing</span><span class="w"> </span><span class="nv">ISO</span><span class="err">&#39;s...</span>
<span class="err">CentOS-7-x86_64-Minimal-1611.iso</span>
<span class="err"># iohyve install ipa-slave CentOS-7-x86_64-Minimal-1611.iso</span>
<span class="err">Installing ipa-slave...</span>
<span class="err">GRUB Process does not run in background....</span>
<span class="err">If your terminal appears to be hanging, check iohyve console ipa-slave in second terminal to complete GRUB process...</span><span class="w"></span>
</code></pre></div>

<p>From another terminal, ssh into your FreeNAS server again in order to connect to the serial console by using:</p>
<div class="highlight"><pre><span></span><code>#<span class="w"> </span><span class="nv">iohyve</span><span class="w"> </span><span class="nv">console</span><span class="w"> </span><span class="nv">ipa</span><span class="o">-</span><span class="nv">slave</span><span class="w"></span>
<span class="nv">Starting</span><span class="w"> </span><span class="nv">console</span><span class="w"> </span><span class="nv">on</span><span class="w"> </span><span class="nv">ipa</span><span class="o">-</span><span class="nv">slave</span>...<span class="w"></span>
<span class="o">~~</span>.<span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">escape</span><span class="w"> </span><span class="nv">console</span><span class="w"> </span>[<span class="nv">uses</span><span class="w"> </span><span class="nv">cu</span><span class="ss">(</span><span class="mi">1</span><span class="ss">)</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">console</span>]<span class="w"></span>
<span class="nv">Connected</span><span class="w"></span>
...<span class="w"></span>
<span class="nv">Starting</span><span class="w"> </span><span class="nv">installer</span>,<span class="w"> </span><span class="nv">one</span><span class="w"> </span><span class="nv">moment</span>...<span class="w"></span>
<span class="nv">anaconda</span><span class="w"> </span><span class="mi">21</span>.<span class="mi">48</span>.<span class="mi">22</span>.<span class="mi">93</span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">CentOS</span><span class="w"> </span><span class="nv">Linux</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="nv">started</span>.<span class="w"></span>
<span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nv">installation</span><span class="w"> </span><span class="nv">log</span><span class="w"> </span><span class="nv">files</span><span class="w"> </span><span class="nv">are</span><span class="w"> </span><span class="nv">stored</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="o">/</span><span class="nv">tmp</span><span class="w"> </span><span class="nv">during</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">installation</span><span class="w"></span>
<span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nv">shell</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="nv">available</span><span class="w"> </span><span class="nv">on</span><span class="w"> </span><span class="nv">TTY2</span><span class="w"></span>
<span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nv">when</span><span class="w"> </span><span class="nv">reporting</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">bug</span><span class="w"> </span><span class="nv">add</span><span class="w"> </span><span class="nv">logs</span><span class="w"> </span><span class="nv">from</span><span class="w"> </span><span class="o">/</span><span class="nv">tmp</span><span class="w"> </span><span class="nv">as</span><span class="w"> </span><span class="nv">separate</span><span class="w"> </span><span class="nv">text</span><span class="o">/</span><span class="nv">plain</span><span class="w"> </span><span class="nv">attachments</span><span class="w"></span>
<span class="mi">14</span>:<span class="mi">21</span>:<span class="mi">39</span><span class="w"> </span><span class="nv">Not</span><span class="w"> </span><span class="nv">asking</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">VNC</span><span class="w"> </span><span class="nv">because</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nv">an</span><span class="w"> </span><span class="nv">automated</span><span class="w"> </span><span class="nv">install</span><span class="w"></span>
<span class="mi">14</span>:<span class="mi">21</span>:<span class="mi">39</span><span class="w"> </span><span class="nv">Not</span><span class="w"> </span><span class="nv">asking</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">VNC</span><span class="w"> </span><span class="nv">because</span><span class="w"> </span><span class="nv">text</span><span class="w"> </span><span class="nv">mode</span><span class="w"> </span><span class="nv">was</span><span class="w"> </span><span class="nv">explicitly</span><span class="w"> </span><span class="nv">asked</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">kickstart</span><span class="w"></span>

<span class="nv">Starting</span><span class="w"> </span><span class="nv">automated</span><span class="w"> </span><span class="nv">install</span>..<span class="w"></span>
...<span class="w"></span>
</code></pre></div>

<p>Now sit back while it automatically installs.  This will be quite the minimal install, however it will get you up and running with an ext4-based system that iohyve can boot up, and from there you can install individual packages or package groups.</p>
<p>When the install is complete, you will see something like this on the console:</p>
<div class="highlight"><pre><span></span><code>[  OK  ] Started Restore /run/initramfs.
[  OK  ] Reached target Shutdown.
dracut Warning: Killing all remaining processes
Rebooting.
[  819.859124] Restarting system.
</code></pre></div>

<p>However, it's not actually restarting the system.  Switch back to the other console and you will see:</p>
<div class="highlight"><pre><span></span><code>Unhandled ps2 keyboard command 0xf6

# iohyve list
Guest      VMM?  Running  rcboot?  Description
ipa-slave  YES   NO       NO       Sun Mar 12 16:39:10 MDT 2017
</code></pre></div>

<p>As you can see from the <code>list</code> command, the virtual machine is not running even though it said it was restarting.  In order to start the machine, you must use:</p>
<div class="highlight"><pre><span></span><code><span class="err">#</span><span class="w"> </span><span class="n">iohyve</span><span class="w"> </span><span class="k">start</span><span class="w"> </span><span class="n">ipa</span><span class="o">-</span><span class="n">slave</span><span class="w"></span>
<span class="n">Starting</span><span class="w"> </span><span class="n">ipa</span><span class="o">-</span><span class="n">slave</span><span class="p">...</span><span class="w"> </span><span class="p">(</span><span class="n">Takes</span><span class="w"> </span><span class="mi">15</span><span class="w"> </span><span class="n">seconds</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">FreeBSD</span><span class="w"> </span><span class="n">guests</span><span class="p">)</span><span class="w"></span>
<span class="o">[</span><span class="n">root@heimdall</span><span class="o">]</span><span class="w"> </span><span class="o">~</span><span class="err">#</span><span class="w"> </span><span class="n">GRUB</span><span class="w"> </span><span class="n">Process</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">background</span><span class="p">....</span><span class="w"></span>
<span class="k">If</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="n">terminal</span><span class="w"> </span><span class="n">appears</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">hanging</span><span class="p">,</span><span class="w"> </span><span class="k">check</span><span class="w"> </span><span class="n">iohyve</span><span class="w"> </span><span class="n">console</span><span class="w"> </span><span class="n">ipa</span><span class="o">-</span><span class="n">slave</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="k">second</span><span class="w"> </span><span class="n">terminal</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">complete</span><span class="w"> </span><span class="n">GRUB</span><span class="w"> </span><span class="n">process</span><span class="p">...</span><span class="w"></span>
</code></pre></div>

<p>Now switch back to the original console (that you've not disconnected) and you will see the system booting.  I had some difficulty with dracut-initqueue warning about incessant timeouts, so it took some time for the system to boot and even then I ended up in a rescue shell.</p>
<p>As annoying as this is, it's not too terribly difficult to solve although I hate how hackish it needs to be.  The root of the problem <em>seems</em> to be that dracut wants to connect to this kickstart file before the network is up.  So we need to do some chroot shenanigans and fix the initramfs:</p>
<div class="highlight"><pre><span></span><code># mkdir /mnt
# mount /dev/sda3 /mnt
# mount /dev/sda1 /mnt/boot
# chroot /mnt
# cd /boot
# cp initramfs-3.10.0-514.el7.x86_64.img initramfs-3.10.0-514.el7.x86_64.img.bak
# dracut -f /boot/initramfs-3.10.0-514.el7.x86_64.img 3.10.0-514.el7.x86_64
# ls -al initramfs*
-rw-------  1 root root 45180381 Mar 14 08:24 initramfs-0-rescue-715baff9360a47a89af2ddbc55b9f0cf.img
-rw-------  1 root root 44766225 Mar 14 09:26 initramfs-3.10.0-514.el7.x86_64.img
-rw-------  1 root root 17437682 Mar 14 09:25 initramfs-3.10.0-514.el7.x86_64.img.bak
</code></pre></div>

<p>Judging by the difference in size between the rescue image, the newly created image, and the previous one that was copied, this is a pretty strong indication that something is missing.</p>
<p>Also, there are a few more steps to do before we can get CentOS 7 booted properly.  The first is to edit <code>/iohyve/ipa-slave/grub.conf</code> and remove the kickstart reference.  I'm not 100% sure this is required after we perform the next action, but after a lot of beard-tugging (and to spare you the same) I'm suggesting you remove it.  Also, you need to set the operating system type back to CentOS 7:</p>
<div class="highlight"><pre><span></span><code># iohyve set ipa-slave os=centos7
Setting ipa-slave os=centos7...
</code></pre></div>

<p>If you've stopped the virtual machine, great, if it's still waiting for network timeouts, you can forcibly stop it with <code>iohyve destroy ipa-slave</code> and then we can use <code>iohyve start ipa-slave</code> to start it back up again (this from the session not attached to the console, of course).</p>
<p>Now on the console, you should be able to watch the virtual machine boot and arrive at a login prompt.</p>
<p>Once you login, you probably want to install a few other things given we opted for the minimal install:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># yum update -y</span><span class="w"></span>
<span class="c1"># yum install net-tools vim-enhanced zsh ipa-server</span><span class="w"></span>
<span class="c1"># systemctl status sshd</span><span class="w"></span>
</code></pre></div>

<p>The last is to make sure that sshd is running so you can ssh in and carry on (at least for me, an 80x25 console is pretty darn tiny).  I also prefer the enhanced vim, and having tools like ipaddr and ifconfig are just plain old handy, and of course the whole point of this exercise was to set this up as an IPA server.</p>
<p>Finally, once you verify you can ssh into the server, disconnect from the console by typing the tilde and CTRL-D (so <code>~ + CTRL-D</code>).</p>
<p>To finish up, let's give the virtual machine a decent description and tell it to start at boot:</p>
<div class="highlight"><pre><span></span><code># iohyve set ipa-slave description=&quot;IPA Slave server&quot;
Setting ipa-slave description=IPA Slave server...
#  iohyve set ipa-slave boot=1
Setting ipa-slave boot=1...
# iohyve list
Guest      VMM?  Running  rcboot?  Description
ipa-slave  YES   YES      YES      IPA Slave server
</code></pre></div>

<p>At this point, you can make a backup or snapshot of the virtual machine (which is one of the first things I wanted to do after all of the effort of figuring out the above!):</p>
<div class="highlight"><pre><span></span><code><span class="err">#</span><span class="w"> </span><span class="n">iohyve</span><span class="w"> </span><span class="n">snap</span><span class="w"> </span><span class="n">ipa</span><span class="o">-</span><span class="n">slave</span><span class="nv">@base</span><span class="o">-</span><span class="n">install</span><span class="o">-</span><span class="mi">20170314</span><span class="w"></span>
<span class="n">Taking</span><span class="w"> </span><span class="n">snapshot</span><span class="w"> </span><span class="n">ipa</span><span class="o">-</span><span class="n">slave</span><span class="nv">@base</span><span class="o">-</span><span class="n">install</span><span class="o">-</span><span class="mi">20170314</span><span class="w"></span>
<span class="err">#</span><span class="w"> </span><span class="n">iohyve</span><span class="w"> </span><span class="n">snaplist</span><span class="w"></span>
<span class="n">ipa</span><span class="o">-</span><span class="n">slave</span><span class="nv">@base</span><span class="o">-</span><span class="n">install</span><span class="o">-</span><span class="mi">20170314</span><span class="w"></span>
</code></pre></div>

<p>Currently there doesn't seem to be a way to remove snapshots.</p>
<p>I haven't played with it enough to know whether or not the performance is better than KVM on Linux, but I enjoyed fiddling with this to get it figured out and working.  Hopefully this is helpful to others; there have been quite a few references to the desire to run CentOS 7 on FreeNAS using iohyve, but even the upstream site indicates it is currently not possible (although according to <a href="https://github.com/pr1ntf/iohyve/issues/224#issuecomment-274279896">this comment</a>, it's on the roadmap).  With a bit of fiddling, it <em>is</em> possible.</p>
<p>The next step now is to figure out how to get an IPA replication slave setup because the documentation is <em>not</em> intuitive at all and setting up a replicated slave is about the only way to migrate IPA from one machine to another.  Wish me luck, and I hope this is helpful to people interested in running CentOS 7 with iohyve.</p>
            </div>
            <!-- /.entry-content -->
        </article>
    </section>

        </div>
        <div class="col-sm-3" id="sidebar">
            <aside>
<!-- Sidebar -->
<section class="well well-sm">
  <ul class="list-group list-group-flush">

<!-- Sidebar/Social -->
<li class="list-group-item">
  <h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Social</span></h4>
  <ul class="list-group" id="social">
    <li class="list-group-item"><a href="https://twitter.com/vdanen"><i class="fa fa-twitter-square fa-lg"></i> Twitter</a></li>
    <li class="list-group-item"><a href="https://github.com/vdanen"><i class="fa fa-github-square fa-lg"></i> GitHub</a></li>
    <li class="list-group-item"><a href="https://www.linkedin.com/in/vdanen/"><i class="fa fa-linkedin-square fa-lg"></i> Linkedin</a></li>
    <li class="list-group-item"><a href="https://www.flickr.com/photos/wulfheart"><i class="fa fa-flickr fa-lg"></i> Flickr</a></li>
    <li class="list-group-item"><a href="https://infosec.exchange/@vdanen"><i class="fa fa-mastodon-square fa-lg"></i> Mastodon</a></li>
  </ul>
</li>
<!-- End Sidebar/Social -->

<!-- Sidebar/Categories -->
<li class="list-group-item">
  <h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Categories</span></h4>
  <ul class="list-group" id="categories">
    <li class="list-group-item">
      <a href="https://vdanen.github.io/category/bsd.html"><i class="fa fa-folder-open fa-lg"></i>Bsd</a>
    </li>
    <li class="list-group-item">
      <a href="https://vdanen.github.io/category/christianity.html"><i class="fa fa-folder-open fa-lg"></i>Christianity</a>
    </li>
    <li class="list-group-item">
      <a href="https://vdanen.github.io/category/life.html"><i class="fa fa-folder-open fa-lg"></i>Life</a>
    </li>
    <li class="list-group-item">
      <a href="https://vdanen.github.io/category/linux.html"><i class="fa fa-folder-open fa-lg"></i>Linux</a>
    </li>
    <li class="list-group-item">
      <a href="https://vdanen.github.io/category/macos.html"><i class="fa fa-folder-open fa-lg"></i>Macos</a>
    </li>
  </ul>
</li>
<!-- End Sidebar/Categories -->

<!-- Sidebar/Tag Cloud -->
<li class="list-group-item">
  <a href="https://vdanen.github.io/"><h4><i class="fa fa-tags fa-lg"></i><span class="icon-label">Tags</span></h4></a>
  <ul class="list-group list-inline tagcloud" id="tags">
    <li class="list-group-item tag-4">
      <a href="https://vdanen.github.io/tag/ads.html">ads</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://vdanen.github.io/tag/aide.html">aide</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://vdanen.github.io/tag/aidegpg.html">AIDE+gpg</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://vdanen.github.io/tag/annvix.html">annvix</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://vdanen.github.io/tag/apache.html">apache</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://vdanen.github.io/tag/authentication.html">authentication</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://vdanen.github.io/tag/backup.html">backup</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="https://vdanen.github.io/tag/blocking.html">blocking</a>
    </li>
    <li class="list-group-item tag-2">
      <a href="https://vdanen.github.io/tag/bugzilla.html">bugzilla</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://vdanen.github.io/tag/centos.html">centos</a>
    </li>
    <li class="list-group-item tag-2">
      <a href="https://vdanen.github.io/tag/christianity.html">christianity</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="https://vdanen.github.io/tag/christmas.html">christmas</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="https://vdanen.github.io/tag/ci.html">ci</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://vdanen.github.io/tag/containers.html">containers</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="https://vdanen.github.io/tag/couchdb.html">couchdb</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="https://vdanen.github.io/tag/cvss.html">cvss</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="https://vdanen.github.io/tag/dash.html">dash</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="https://vdanen.github.io/tag/deception.html">deception</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="https://vdanen.github.io/tag/dns.html">dns</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="https://vdanen.github.io/tag/dnsmasq.html">dnsmasq</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="https://vdanen.github.io/tag/docker.html">docker</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="https://vdanen.github.io/tag/documentation.html">documentation</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://vdanen.github.io/tag/egypt.html">egypt</a>
    </li>
    <li class="list-group-item tag-2">
      <a href="https://vdanen.github.io/tag/email.html">email</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="https://vdanen.github.io/tag/facebook.html">facebook</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://vdanen.github.io/tag/faith.html">faith</a>
    </li>
    <li class="list-group-item tag-2">
      <a href="https://vdanen.github.io/tag/fedora.html">fedora</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="https://vdanen.github.io/tag/fink.html">fink</a>
    </li>
    <li class="list-group-item tag-2">
      <a href="https://vdanen.github.io/tag/firewall.html">firewall</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="https://vdanen.github.io/tag/firewalld.html">firewalld</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="https://vdanen.github.io/tag/flask.html">flask</a>
    </li>
    <li class="list-group-item tag-2">
      <a href="https://vdanen.github.io/tag/freenas.html">freenas</a>
    </li>
    <li class="list-group-item tag-2">
      <a href="https://vdanen.github.io/tag/git.html">git</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="https://vdanen.github.io/tag/git-notifier.html">git-notifier</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://vdanen.github.io/tag/gitlab.html">gitlab</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://vdanen.github.io/tag/gmail.html">gmail</a>
    </li>
    <li class="list-group-item tag-2">
      <a href="https://vdanen.github.io/tag/gpg.html">gpg</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="https://vdanen.github.io/tag/grub.html">grub</a>
    </li>
    <li class="list-group-item tag-2">
      <a href="https://vdanen.github.io/tag/gtd.html">gtd</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="https://vdanen.github.io/tag/halloween.html">halloween</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="https://vdanen.github.io/tag/heartbleed.html">heartbleed</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="https://vdanen.github.io/tag/inkdrop.html">inkdrop</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="https://vdanen.github.io/tag/iohyve.html">iohyve</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://vdanen.github.io/tag/ipa.html">ipa</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="https://vdanen.github.io/tag/iptables.html">iptables</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://vdanen.github.io/tag/israel.html">israel</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://vdanen.github.io/tag/jordan.html">jordan</a>
    </li>
    <li class="list-group-item tag-2">
      <a href="https://vdanen.github.io/tag/kerberos.html">kerberos</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://vdanen.github.io/tag/komodo.html">komodo</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://vdanen.github.io/tag/kvm.html">kvm</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://vdanen.github.io/tag/launchbar.html">launchbar</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://vdanen.github.io/tag/ldap.html">ldap</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="https://vdanen.github.io/tag/leadership.html">leadership</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://vdanen.github.io/tag/linux.html">linux</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://vdanen.github.io/tag/mailmate.html">mailmate</a>
    </li>
    <li class="list-group-item tag-2">
      <a href="https://vdanen.github.io/tag/mandriva.html">mandriva</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://vdanen.github.io/tag/mod_rewrite.html">mod_rewrite</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://vdanen.github.io/tag/mutt.html">mutt</a>
    </li>
    <li class="list-group-item tag-2">
      <a href="https://vdanen.github.io/tag/mysql.html">mysql</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://vdanen.github.io/tag/nagios.html">nagios</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="https://vdanen.github.io/tag/named.html">named</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://vdanen.github.io/tag/nfs.html">nfs</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="https://vdanen.github.io/tag/openssf.html">openssf</a>
    </li>
    <li class="list-group-item tag-2">
      <a href="https://vdanen.github.io/tag/openssh.html">openssh</a>
    </li>
    <li class="list-group-item tag-2">
      <a href="https://vdanen.github.io/tag/openssl.html">openssl</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://vdanen.github.io/tag/openvpn.html">openvpn</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="https://vdanen.github.io/tag/pfsense.html">pfsense</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://vdanen.github.io/tag/plex.html">plex</a>
    </li>
    <li class="list-group-item tag-2">
      <a href="https://vdanen.github.io/tag/python.html">python</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://vdanen.github.io/tag/raid.html">raid</a>
    </li>
    <li class="list-group-item tag-2">
      <a href="https://vdanen.github.io/tag/redhat.html">redhat</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="https://vdanen.github.io/tag/relationship.html">relationship</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="https://vdanen.github.io/tag/religion.html">religion</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="https://vdanen.github.io/tag/remotee.html">remotee</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://vdanen.github.io/tag/rhel.html">rhel</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://vdanen.github.io/tag/rpm.html">rpm</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://vdanen.github.io/tag/samba.html">samba</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://vdanen.github.io/tag/screen.html">screen</a>
    </li>
    <li class="list-group-item tag-2">
      <a href="https://vdanen.github.io/tag/security.html">security</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://vdanen.github.io/tag/selinux.html">selinux</a>
    </li>
    <li class="list-group-item tag-2">
      <a href="https://vdanen.github.io/tag/shell.html">shell</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://vdanen.github.io/tag/ssd.html">ssd</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://vdanen.github.io/tag/ssl.html">ssl</a>
    </li>
    <li class="list-group-item tag-2">
      <a href="https://vdanen.github.io/tag/subversion.html">subversion</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://vdanen.github.io/tag/sudo.html">sudo</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://vdanen.github.io/tag/supplychain.html">supplychain</a>
    </li>
    <li class="list-group-item tag-2">
      <a href="https://vdanen.github.io/tag/tattoo.html">tattoo</a>
    </li>
    <li class="list-group-item tag-1">
      <a href="https://vdanen.github.io/tag/techmail.html">techmail</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="https://vdanen.github.io/tag/theology.html">theology</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://vdanen.github.io/tag/truenas.html">truenas</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="https://vdanen.github.io/tag/twitter.html">twitter</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="https://vdanen.github.io/tag/usg.html">usg</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="https://vdanen.github.io/tag/video.html">video</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://vdanen.github.io/tag/vim.html">vim</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://vdanen.github.io/tag/vmware.html">vmware</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://vdanen.github.io/tag/vpn.html">vpn</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="https://vdanen.github.io/tag/whiskeyjack.html">whiskeyjack</a>
    </li>
    <li class="list-group-item tag-2">
      <a href="https://vdanen.github.io/tag/yearend.html">yearend</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="https://vdanen.github.io/tag/yubikey.html">yubikey</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://vdanen.github.io/tag/yum.html">yum</a>
    </li>
  </ul>
</li>
<!-- End Sidebar/Tag Cloud -->

<!-- Sidebar/Links -->
<li class="list-group-item">
  <h4><i class="fa fa-external-link-square fa-lg"></i><span class="icon-label">Links</span></h4>
  <ul class="list-group" id="links">
    <li class="list-group-item">
      <a href="https://christcity.com/" target="_blank">Christcity</a>
    </li>
    <li class="list-group-item">
      <a href="https://www.redhat.com/" target="_blank">Red Hat</a>
    </li>
  </ul>
</li>
<!-- End Sidebar/Links -->
  </ul>
</section>
<!-- End Sidebar -->            </aside>
        </div>
    </div>
</div>
<!-- End Content Container -->

<footer>
   <div class="container-fluid">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2023 Vincent Danen
            &middot; Powered by <a href="https://github.com/getpelican/pelican-themes/tree/master/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="https://vdanen.github.io/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="https://vdanen.github.io/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="https://vdanen.github.io/theme/js/respond.min.js"></script>


    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-5JGVD90SKJ"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-5JGVD90SKJ');
    </script>


</body>
</html>